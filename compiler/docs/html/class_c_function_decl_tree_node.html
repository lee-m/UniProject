<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CP3343: CFunctionDeclTreeNode Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>CFunctionDeclTreeNode Class Reference</h1><!-- doxytag: class="CFunctionDeclTreeNode" --><!-- doxytag: inherits="CTreeNode" -->Inheritance diagram for CFunctionDeclTreeNode:<p><center><img src="class_c_function_decl_tree_node__inherit__graph.png" border="0" usemap="#_c_function_decl_tree_node__inherit__map" alt="Inheritance graph"></center>
<map name="_c_function_decl_tree_node__inherit__map">
<area href="class_c_tree_node.html" shape="rect" coords="44,5,135,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#4792f73611cb48ddf53888e5da2ae74e">DumpAsParseTreeNode</a> (TiXmlElement *XmlNode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#6cb50dedfca4a8c60b4d06445409fdad">DumpAsMIRTreeNode</a> (ofstream &amp;OutFile)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#2a6fd151d8cce966171de12e7b547293">DestroyNode</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#775b13a695b995fbfe065071b28ab2e9">RewriteIntoMIRForm</a> (<a class="el" href="class_c_tree_node.html">CTreeNode</a> *Stmts)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#35b53f90cc35f5a44d7e5ef00758f58a">CreateCopy</a> (void)</td></tr>

<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="_token_types_8h.html#a520fbf142ba1e7e659590c07da31921">TokenType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#ee8d4c49d6084c7f156f49ccea9a1169">RetType</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#89eb61f5aab09088f89135f713b64b59">NumParameters</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#31d3ff53097a8ac1d869220c93402d3c">Name</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">list&lt; <a class="el" href="struct_basic_block__t.html">BasicBlock_t</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#eb82799b095f21152bdd3976203e2d36">FuncCFG</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#1071c9a9c1b8bbfca72fe6a8c91366ea">StackFrameSize</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#053c270589eea1757943af1e5a09c347">SpillVarsOffset</a></td></tr>

<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#a202a1b4213ca7e4dee53c2133868637">CFunctionDeclTreeNode</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#c373657cf92e4bff26f69f8e1ba4f24a">~CFunctionDeclTreeNode</a> (void)</td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_function_decl_tree_node.html#e27a43a29b8de3274dfdd259d4a5ebac">CTreeNodeFactory</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Declaration of a function within the IR. Includes the statements which make up the body and any declared parameters. This representation is used throughout the compiler so has properties which aren't set upon creation. The size of the stack frame is initially calculated during MIR lowering which is set big enough to hold all the parameters, this is then later revised after local register allocation to take into account any spilled local variables. The CFG is not set until the CFG pass run right after MIR lowering, this will also contain any dataflow information attached to each block in the graph. <br>
<br>
 <b>Children:</b><br>
 &nbsp;&nbsp; 0. Parameter list <br>
 &nbsp;&nbsp; 1 -&gt; N. Statements making up the function body. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a202a1b4213ca7e4dee53c2133868637"></a><!-- doxytag: member="CFunctionDeclTreeNode::CFunctionDeclTreeNode" ref="a202a1b4213ca7e4dee53c2133868637" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CFunctionDeclTreeNode::CFunctionDeclTreeNode           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c373657cf92e4bff26f69f8e1ba4f24a"></a><!-- doxytag: member="CFunctionDeclTreeNode::~CFunctionDeclTreeNode" ref="c373657cf92e4bff26f69f8e1ba4f24a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CFunctionDeclTreeNode::~CFunctionDeclTreeNode           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="4792f73611cb48ddf53888e5da2ae74e"></a><!-- doxytag: member="CFunctionDeclTreeNode::DumpAsParseTreeNode" ref="4792f73611cb48ddf53888e5da2ae74e" args="(TiXmlElement *XmlNode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CFunctionDeclTreeNode::DumpAsParseTreeNode           </td>
          <td>(</td>
          <td class="paramtype">TiXmlElement *&nbsp;</td>
          <td class="paramname"> <em>XmlNode</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Inherited from <a class="el" href="class_c_tree_node.html">CTreeNode</a>. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_c_tree_node.html">CTreeNode</a>. </dd></dl>

<p>
Implements <a class="el" href="class_c_tree_node.html#ad54a52ebef021a81ec6ad57a2a85d1c">CTreeNode</a>.
</div>
</div><p>
<a class="anchor" name="6cb50dedfca4a8c60b4d06445409fdad"></a><!-- doxytag: member="CFunctionDeclTreeNode::DumpAsMIRTreeNode" ref="6cb50dedfca4a8c60b4d06445409fdad" args="(ofstream &amp;OutFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CFunctionDeclTreeNode::DumpAsMIRTreeNode           </td>
          <td>(</td>
          <td class="paramtype">ofstream &amp;&nbsp;</td>
          <td class="paramname"> <em>OutFile</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Inherited from <a class="el" href="class_c_tree_node.html">CTreeNode</a>. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_c_tree_node.html">CTreeNode</a>. </dd></dl>

<p>
Implements <a class="el" href="class_c_tree_node.html#1322ac81f1d0d95045472236b26afb80">CTreeNode</a>.
</div>
</div><p>
<a class="anchor" name="2a6fd151d8cce966171de12e7b547293"></a><!-- doxytag: member="CFunctionDeclTreeNode::DestroyNode" ref="2a6fd151d8cce966171de12e7b547293" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CFunctionDeclTreeNode::DestroyNode           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Inherited from <a class="el" href="class_c_tree_node.html">CTreeNode</a>. Overriden here so we can clean up the CFG before destroying ourselves. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_c_tree_node.html">CTreeNode</a>. </dd></dl>

<p>
Reimplemented from <a class="el" href="class_c_tree_node.html#198ff6e4bf42f19b45ef3a7fa0eaefd5">CTreeNode</a>.
</div>
</div><p>
<a class="anchor" name="775b13a695b995fbfe065071b28ab2e9"></a><!-- doxytag: member="CFunctionDeclTreeNode::RewriteIntoMIRForm" ref="775b13a695b995fbfe065071b28ab2e9" args="(CTreeNode *Stmts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_tree_node.html">CTreeNode</a> * CFunctionDeclTreeNode::RewriteIntoMIRForm           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td>
          <td class="paramname"> <em>Stmts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process each statement in the function to convert them to MIR form, adding the new statements to the function body before returning the new function in MIR form. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_c_tree_node.html">CTreeNode</a>. </dd></dl>

<p>
Implements <a class="el" href="class_c_tree_node.html#7d0edd814b41f8d229369d1717501318">CTreeNode</a>.
</div>
</div><p>
<a class="anchor" name="35b53f90cc35f5a44d7e5ef00758f58a"></a><!-- doxytag: member="CFunctionDeclTreeNode::CreateCopy" ref="35b53f90cc35f5a44d7e5ef00758f58a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_tree_node.html">CTreeNode</a> * CFunctionDeclTreeNode::CreateCopy           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a deep copy of this node, including all parameters and statements. Not something which should be done if possible as it will be expensive if the function is large. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_c_tree_node.html">CTreeNode</a>. </dd></dl>

<p>
Implements <a class="el" href="class_c_tree_node.html#c0fe9fcc97148c42d8439e784523245a">CTreeNode</a>.
</div>
</div><p>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="e27a43a29b8de3274dfdd259d4a5ebac"></a><!-- doxytag: member="CFunctionDeclTreeNode::CTreeNodeFactory" ref="e27a43a29b8de3274dfdd259d4a5ebac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_c_tree_node_factory.html">CTreeNodeFactory</a><code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="ee8d4c49d6084c7f156f49ccea9a1169"></a><!-- doxytag: member="CFunctionDeclTreeNode::RetType" ref="ee8d4c49d6084c7f156f49ccea9a1169" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_token_types_8h.html#a520fbf142ba1e7e659590c07da31921">TokenType</a> <a class="el" href="class_c_function_decl_tree_node.html#ee8d4c49d6084c7f156f49ccea9a1169">CFunctionDeclTreeNode::RetType</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return type of the function. 
</div>
</div><p>
<a class="anchor" name="89eb61f5aab09088f89135f713b64b59"></a><!-- doxytag: member="CFunctionDeclTreeNode::NumParameters" ref="89eb61f5aab09088f89135f713b64b59" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_c_function_decl_tree_node.html#89eb61f5aab09088f89135f713b64b59">CFunctionDeclTreeNode::NumParameters</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Number of declared parameters. 
</div>
</div><p>
<a class="anchor" name="31d3ff53097a8ac1d869220c93402d3c"></a><!-- doxytag: member="CFunctionDeclTreeNode::Name" ref="31d3ff53097a8ac1d869220c93402d3c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="class_c_function_decl_tree_node.html#31d3ff53097a8ac1d869220c93402d3c">CFunctionDeclTreeNode::Name</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Name of the function. 
</div>
</div><p>
<a class="anchor" name="eb82799b095f21152bdd3976203e2d36"></a><!-- doxytag: member="CFunctionDeclTreeNode::FuncCFG" ref="eb82799b095f21152bdd3976203e2d36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list&lt;<a class="el" href="struct_basic_block__t.html">BasicBlock_t</a>*&gt; <a class="el" href="class_c_function_decl_tree_node.html#eb82799b095f21152bdd3976203e2d36">CFunctionDeclTreeNode::FuncCFG</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
CFG for this function. 
</div>
</div><p>
<a class="anchor" name="1071c9a9c1b8bbfca72fe6a8c91366ea"></a><!-- doxytag: member="CFunctionDeclTreeNode::StackFrameSize" ref="1071c9a9c1b8bbfca72fe6a8c91366ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_c_function_decl_tree_node.html#1071c9a9c1b8bbfca72fe6a8c91366ea">CFunctionDeclTreeNode::StackFrameSize</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stack frame size for parameters and spilled local variables. 
</div>
</div><p>
<a class="anchor" name="053c270589eea1757943af1e5a09c347"></a><!-- doxytag: member="CFunctionDeclTreeNode::SpillVarsOffset" ref="053c270589eea1757943af1e5a09c347" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_c_function_decl_tree_node.html#053c270589eea1757943af1e5a09c347">CFunctionDeclTreeNode::SpillVarsOffset</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
We need to know where the parameters end and the spilled vars begin in the stack frame when we're loading a spilled value so we store the offset in bytes to the start of the spilled variables. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_c_function_decl_tree_node_8h.html">CFunctionDeclTreeNode.h</a><li><a class="el" href="_c_function_decl_tree_node_8cpp.html">CFunctionDeclTreeNode.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed May 16 12:56:51 2007 for CP3343 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
