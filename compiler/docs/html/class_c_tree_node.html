<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CP3343: CTreeNode Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>CTreeNode Class Reference</h1><!-- doxytag: class="CTreeNode" -->Inheritance diagram for CTreeNode:<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#e7dfc236a1c3b25adcd7b56992fd4934">CTreeNode</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#b152c61459201edd764adddadd46c4b5">~CTreeNode</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#ad54a52ebef021a81ec6ad57a2a85d1c">DumpAsParseTreeNode</a> (TiXmlElement *XmlNode)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#1322ac81f1d0d95045472236b26afb80">DumpAsMIRTreeNode</a> (ofstream &amp;OutFile)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#198ff6e4bf42f19b45ef3a7fa0eaefd5">DestroyNode</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#afce7e708fbf36153c3d9c8d13252703">AddChild</a> (<a class="el" href="class_c_tree_node.html">CTreeNode</a> *NewChild, unsigned int Pos=-1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#5d895a5daf521360009581b6b80e3c61">GetNumChildren</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#702e424810725eab47f64006b5166f6a">GetChild</a> (unsigned int Id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_c_tree_node.html">CTreeNode</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#4a70299af0d05173d6524031d8cb2f00">GetChildPtr</a> (unsigned int Id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#7d0edd814b41f8d229369d1717501318">RewriteIntoMIRForm</a> (<a class="el" href="class_c_tree_node.html">CTreeNode</a> *Stmts)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#c0fe9fcc97148c42d8439e784523245a">CreateCopy</a> (void)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#1cfab5b40030b686aec2a908cf9969c5">ReplaceArrayRefs</a> (<a class="el" href="class_c_tree_node.html">CTreeNode</a> *Node, <a class="el" href="class_c_tree_node.html">CTreeNode</a> *Stmts)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#09e8ccfc39339dcbcf6d63136425d1f4">ReplaceCallExpr</a> (<a class="el" href="class_c_tree_node.html">CTreeNode</a> *Node, <a class="el" href="class_c_tree_node.html">CTreeNode</a> *Stmts)</td></tr>

<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="_c_tree_node_8h.html#5d48fb053455b65f98947b713a724bfa">TreeCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#041fa2657be4b0e31451dca6f145ae6c">Code</a></td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">vector&lt; <a class="el" href="class_c_tree_node.html">CTreeNode</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_tree_node.html#2a449b7eee7edeeef91a077f73f14c06">Children</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The core representation of the program used by the compiler from the front-end down through the back-end. Every tree node created has a "type" attribute so although every tree node can be treated in a generic fashion through CTReeNode*, it's possible to determine exactly what flavour of tree is being worked with. <br>
<br>
 Creation of new tree nodes is controlled through the <a class="el" href="class_c_tree_node.html">CTreeNode</a> factory, for more information about why this is done see the documentation for that class. <br>
<br>
 There are two possible states that a tree node can be in depending on what phase of compilation is in progress. During parsing all trees will be in a form which closely matches the declared source code to allow syntax and semantic checks to be performed. After parsing these tree are then lowered into a form known as "MIR" - middle-end intermediate representation which includes additional tree types not found during parsing. The same tree structures are used as they provide much of the functionality required for manipulating and storing various information for each language construct. <br>
<br>
 The process of lowering a parse tree into it's equivalent form is specific to type of node being lowering so each specialisation of this class is required to implement the necessary functionality to handle it. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="e7dfc236a1c3b25adcd7b56992fd4934"></a><!-- doxytag: member="CTreeNode::CTreeNode" ref="e7dfc236a1c3b25adcd7b56992fd4934" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CTreeNode::CTreeNode           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b152c61459201edd764adddadd46c4b5"></a><!-- doxytag: member="CTreeNode::~CTreeNode" ref="b152c61459201edd764adddadd46c4b5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual CTreeNode::~CTreeNode           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="ad54a52ebef021a81ec6ad57a2a85d1c"></a><!-- doxytag: member="CTreeNode::DumpAsParseTreeNode" ref="ad54a52ebef021a81ec6ad57a2a85d1c" args="(TiXmlElement *XmlNode)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CTreeNode::DumpAsParseTreeNode           </td>
          <td>(</td>
          <td class="paramtype">TiXmlElement *&nbsp;</td>
          <td class="paramname"> <em>XmlNode</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Output the contents of this tree node to an XML document to show the heirarchal structure of the parse tree. The contents of the file doesn't include any new information about the input program, it's merely intented to show the programmer how the compiler views the program. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>XmlNode</em>&nbsp;</td><td>A parent XML document node to which this tree node will output it's contents to. </td></tr>
  </table>
</dl>

<p>
Implemented in <a class="el" href="class_c_arith_expr_tree_node.html#7d904352c3598c1701741f0973b1bd8e">CArithExprTreeNode</a>, <a class="el" href="class_c_array_decl_tree_node.html#57c516fc1f17e64c6cb55494e53bed98">CArrayDeclTreeNode</a>, <a class="el" href="class_c_array_ref_tree_node.html#0efbbc2bbae408bf11e40bf28b899ab8">CArrayRefTreeNode</a>, <a class="el" href="class_c_assign_expr_tree_node.html#a40e1dc9272a34faa096f111641a2d12">CAssignExprTreeNode</a>, <a class="el" href="class_c_boolean_expr_tree_node.html#f80c95f1196b8b87eec19ba597101d7b">CBooleanExprTreeNode</a>, <a class="el" href="class_c_call_expr_tree_node.html#051169b7cf7e7f489a218aad31f504e4">CCallExprTreeNode</a>, <a class="el" href="class_c_function_decl_tree_node.html#4792f73611cb48ddf53888e5da2ae74e">CFunctionDeclTreeNode</a>, <a class="el" href="class_c_identifier_tree_node.html#61962c59014f9a5f3a6eb76cc06258c9">CIdentifierTreeNode</a>, <a class="el" href="class_c_if_stmt_tree_node.html#4c54e109c55d67072027e036de652337">CIfStmtTreeNode</a>, <a class="el" href="class_c_literal_tree_node.html#c5a6f5c3bf459300dd04cb90ba3a74ca">CLiteralTreeNode</a>, <a class="el" href="class_c_parameter_decl_tree_node.html#354d9f6fa4b5e1c4c1665d0f9db4050a">CParameterDeclTreeNode</a>, <a class="el" href="class_c_parameter_list_tree_node.html#b158c59ab5ad9176a1c0b398e82b7c0b">CParameterListTreeNode</a>, <a class="el" href="class_c_return_stmt_tree_node.html#3e43a7d8cf4eaf28411d2510e91a45b6">CReturnStmtTreeNode</a>, <a class="el" href="class_c_root_tree_node.html#b0a8d30a17d931d6d3049ba4c0399237">CRootTreeNode</a>, <a class="el" href="class_c_unary_expr_tree_node.html#129ce8725f6b28f180ce7a8805b4bc82">CUnaryExprTreeNode</a>, <a class="el" href="class_c_var_decl_tree_node.html#14909a8d9b36d2b2f3d57d51d89e468c">CVarDeclTreeNode</a>, <a class="el" href="class_c_while_stmt_tree_node.html#cab91afb5ac1b72873de0e5b7b288ad8">CWhileStmtTreeNode</a>, <a class="el" href="class_c_goto_expr_tree_node.html#1e621d5ea574134fedb9b8088ca1efa2">CGotoExprTreeNode</a>, <a class="el" href="class_c_label_tree_node.html#719d24ae4ea9ac6f38946066abb6a4a3">CLabelTreeNode</a>, and <a class="el" href="class_c_literal_ref_tree_node.html#6bebc15facd0fe0498269ea67aa44193">CLiteralRefTreeNode</a>.
</div>
</div><p>
<a class="anchor" name="1322ac81f1d0d95045472236b26afb80"></a><!-- doxytag: member="CTreeNode::DumpAsMIRTreeNode" ref="1322ac81f1d0d95045472236b26afb80" args="(ofstream &amp;OutFile)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CTreeNode::DumpAsMIRTreeNode           </td>
          <td>(</td>
          <td class="paramtype">ofstream &amp;&nbsp;</td>
          <td class="paramname"> <em>OutFile</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Similiar to DumpAsParseTreeNode but instead this time the output file shows the program after the MIR lowering has taken place. This is used to show the results of the various transformations the compiler has applied such as control flow flattening and complex expression decomposition. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OutFile</em>&nbsp;</td><td>File handle this node outputs it's contents to. </td></tr>
  </table>
</dl>

<p>
Implemented in <a class="el" href="class_c_arith_expr_tree_node.html#2de85917efd2e61e6e6146d284aa5dc0">CArithExprTreeNode</a>, <a class="el" href="class_c_array_decl_tree_node.html#521fc81b9a2493026664e08f7505ea8c">CArrayDeclTreeNode</a>, <a class="el" href="class_c_array_ref_tree_node.html#4a12ce7c08a6034c242e4a981b9ce80a">CArrayRefTreeNode</a>, <a class="el" href="class_c_assign_expr_tree_node.html#265d87618fcafb44af8672f316895ef8">CAssignExprTreeNode</a>, <a class="el" href="class_c_boolean_expr_tree_node.html#2f7652df61973f73577f44f62c6be01c">CBooleanExprTreeNode</a>, <a class="el" href="class_c_call_expr_tree_node.html#4eb2a4bc2800f74011d974b3aece9907">CCallExprTreeNode</a>, <a class="el" href="class_c_function_decl_tree_node.html#6cb50dedfca4a8c60b4d06445409fdad">CFunctionDeclTreeNode</a>, <a class="el" href="class_c_identifier_tree_node.html#5f37b91f08c629c27e4236840684e529">CIdentifierTreeNode</a>, <a class="el" href="class_c_if_stmt_tree_node.html#e73740bca4695ef76a3187bec5cee667">CIfStmtTreeNode</a>, <a class="el" href="class_c_literal_tree_node.html#b927c9857bbc3e0e58b211fe4647faef">CLiteralTreeNode</a>, <a class="el" href="class_c_parameter_decl_tree_node.html#381c5dcf5536f7a187757941583ef36a">CParameterDeclTreeNode</a>, <a class="el" href="class_c_parameter_list_tree_node.html#08fd2454ae735678a999c48cba03100c">CParameterListTreeNode</a>, <a class="el" href="class_c_return_stmt_tree_node.html#85c28b18066cc6525410709fb6240d1e">CReturnStmtTreeNode</a>, <a class="el" href="class_c_root_tree_node.html#67255dd8f998a5584f0e08e8e5b06e54">CRootTreeNode</a>, <a class="el" href="class_c_unary_expr_tree_node.html#c22ae1a93c8b5b45965ec00ec2ba8125">CUnaryExprTreeNode</a>, <a class="el" href="class_c_var_decl_tree_node.html#2c805a5715aa4b366212345b9b0aae59">CVarDeclTreeNode</a>, <a class="el" href="class_c_while_stmt_tree_node.html#d64a36b27b7266a1636c49f1175aa83a">CWhileStmtTreeNode</a>, <a class="el" href="class_c_goto_expr_tree_node.html#68861364e671d558f87e15ed22b52a68">CGotoExprTreeNode</a>, <a class="el" href="class_c_label_tree_node.html#7504fb56f1afce42c200e7e9e32558aa">CLabelTreeNode</a>, and <a class="el" href="class_c_literal_ref_tree_node.html#b3b3ab9840b340699df894f7226aa4eb">CLiteralRefTreeNode</a>.
</div>
</div><p>
<a class="anchor" name="198ff6e4bf42f19b45ef3a7fa0eaefd5"></a><!-- doxytag: member="CTreeNode::DestroyNode" ref="198ff6e4bf42f19b45ef3a7fa0eaefd5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CTreeNode::DestroyNode           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy this node and any children. 
<p>
Reimplemented in <a class="el" href="class_c_array_ref_tree_node.html#e53f0ea4c6eac7bd1b6976c7d092d09a">CArrayRefTreeNode</a>, <a class="el" href="class_c_function_decl_tree_node.html#2a6fd151d8cce966171de12e7b547293">CFunctionDeclTreeNode</a>, and <a class="el" href="class_c_var_decl_tree_node.html#04785e5c818e717e76927dff199d2097">CVarDeclTreeNode</a>.
</div>
</div><p>
<a class="anchor" name="afce7e708fbf36153c3d9c8d13252703"></a><!-- doxytag: member="CTreeNode::AddChild" ref="afce7e708fbf36153c3d9c8d13252703" args="(CTreeNode *NewChild, unsigned int Pos=-1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CTreeNode::AddChild           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td>
          <td class="paramname"> <em>NewChild</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>Pos</em> = <code>-1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a new tree node as a child of this one, optionally specifying the position it should have. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NewChild</em>&nbsp;</td><td>The new tree node to add, should never be NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Pos</em>&nbsp;</td><td>Position to insert the new child, if the value is -1 then it's added as the last child. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="5d895a5daf521360009581b6b80e3c61"></a><!-- doxytag: member="CTreeNode::GetNumChildren" ref="5d895a5daf521360009581b6b80e3c61" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int CTreeNode::GetNumChildren           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find out the number of children this tree node has. <dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of children added. </dd></dl>

</div>
</div><p>
<a class="anchor" name="702e424810725eab47f64006b5166f6a"></a><!-- doxytag: member="CTreeNode::GetChild" ref="702e424810725eab47f64006b5166f6a" args="(unsigned int Id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_tree_node.html">CTreeNode</a> * CTreeNode::GetChild           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>Id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a required child node, this doesn't return a l-value so can't be used for modifying the underlying child node, for that use GetChildPtr. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Id</em>&nbsp;</td><td>The child node to return, will cause an ICE if Id &gt; <a class="el" href="class_c_tree_node.html#5d895a5daf521360009581b6b80e3c61">GetNumChildren()</a>. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A pointer to the tree node at the requested position. </dd></dl>

</div>
</div><p>
<a class="anchor" name="4a70299af0d05173d6524031d8cb2f00"></a><!-- doxytag: member="CTreeNode::GetChildPtr" ref="4a70299af0d05173d6524031d8cb2f00" args="(unsigned int Id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_tree_node.html">CTreeNode</a> ** CTreeNode::GetChildPtr           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>Id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Identical to GetChild only this function returns an l-value so the contents can be changed if reguired. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_c_tree_node.html#702e424810725eab47f64006b5166f6a">GetChild</a> </dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A pointer to the requested child which can be used as an l-value. </dd></dl>

</div>
</div><p>
<a class="anchor" name="7d0edd814b41f8d229369d1717501318"></a><!-- doxytag: member="CTreeNode::RewriteIntoMIRForm" ref="7d0edd814b41f8d229369d1717501318" args="(CTreeNode *Stmts)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_c_tree_node.html">CTreeNode</a>* CTreeNode::RewriteIntoMIRForm           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td>
          <td class="paramname"> <em>Stmts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Rewrite this node into MIR form, adding any newly created statements to the provided tree. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Stmts</em>&nbsp;</td><td>The current MIR tree that is being built. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The last statement created from this function so it can be used in any callers if required. </dd></dl>

<p>
Implemented in <a class="el" href="class_c_arith_expr_tree_node.html#a102c2e48128a279e1f6a6fa81530abf">CArithExprTreeNode</a>, <a class="el" href="class_c_array_decl_tree_node.html#d7300cb8cb7f19f9a80effbf82870f0a">CArrayDeclTreeNode</a>, <a class="el" href="class_c_array_ref_tree_node.html#320e4eeaf196e8d8d1a910105776a467">CArrayRefTreeNode</a>, <a class="el" href="class_c_assign_expr_tree_node.html#5bc8bd05b44c5013694e1530665c798f">CAssignExprTreeNode</a>, <a class="el" href="class_c_boolean_expr_tree_node.html#b700cdf8f43073ddf50982091a845535">CBooleanExprTreeNode</a>, <a class="el" href="class_c_call_expr_tree_node.html#60fdd923541777d24b8d987f1b574ed1">CCallExprTreeNode</a>, <a class="el" href="class_c_function_decl_tree_node.html#775b13a695b995fbfe065071b28ab2e9">CFunctionDeclTreeNode</a>, <a class="el" href="class_c_identifier_tree_node.html#38f5bf9959eeda04a9504ba8c0004c6a">CIdentifierTreeNode</a>, <a class="el" href="class_c_if_stmt_tree_node.html#437be2ecb94f848b237c0e80819daf9d">CIfStmtTreeNode</a>, <a class="el" href="class_c_literal_tree_node.html#66b127dbd96153e8c8d675641937f0e3">CLiteralTreeNode</a>, <a class="el" href="class_c_parameter_decl_tree_node.html#453be4fa4c39422df04226454081667c">CParameterDeclTreeNode</a>, <a class="el" href="class_c_parameter_list_tree_node.html#0dc052dabda615541a8084fccfb974f8">CParameterListTreeNode</a>, <a class="el" href="class_c_return_stmt_tree_node.html#19e826ca52d21c6b56dea54683ffe0e3">CReturnStmtTreeNode</a>, <a class="el" href="class_c_root_tree_node.html#df4e0a43b09f6e3e78fca49d710a6754">CRootTreeNode</a>, <a class="el" href="class_c_unary_expr_tree_node.html#0591a59fa4e1b72c14158e3ae3cac47c">CUnaryExprTreeNode</a>, <a class="el" href="class_c_var_decl_tree_node.html#bc3fad02fa2d68c0f545e33e53af98ab">CVarDeclTreeNode</a>, <a class="el" href="class_c_while_stmt_tree_node.html#a627c082d2dd6096f1b9ff20e6b2bd48">CWhileStmtTreeNode</a>, <a class="el" href="class_c_goto_expr_tree_node.html#707a9a31ca4e04763ceab3bc11f1b461">CGotoExprTreeNode</a>, <a class="el" href="class_c_label_tree_node.html#2c822dcd7bd7f5037be38404a673c57d">CLabelTreeNode</a>, and <a class="el" href="class_c_literal_ref_tree_node.html#df43e1760014f4451b61e22d7796ba44">CLiteralRefTreeNode</a>.
</div>
</div><p>
<a class="anchor" name="c0fe9fcc97148c42d8439e784523245a"></a><!-- doxytag: member="CTreeNode::CreateCopy" ref="c0fe9fcc97148c42d8439e784523245a" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_c_tree_node.html">CTreeNode</a>* CTreeNode::CreateCopy           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
In some cases we need to copy around tree nodes, we can't simply do a = b in that case because we'll crash when destroying the node since there are two pointers to the same piece of memory. Instead, use this function so the above snippet is now: a = b-&gt;<a class="el" href="class_c_tree_node.html#c0fe9fcc97148c42d8439e784523245a">CreateCopy()</a>. Depending on the type of node being copied this could result is quite a lot of extra memory being allocated so should be used with caution. 
<p>
Implemented in <a class="el" href="class_c_arith_expr_tree_node.html#001875e3880c230eeb66037d886ea1a7">CArithExprTreeNode</a>, <a class="el" href="class_c_array_decl_tree_node.html#cdd6198f4eeb68e4e7ed62251dbc281d">CArrayDeclTreeNode</a>, <a class="el" href="class_c_array_ref_tree_node.html#b6d90e40dd8b8c0d5391e83be02e27b0">CArrayRefTreeNode</a>, <a class="el" href="class_c_assign_expr_tree_node.html#57635708f95f39873708076f504b0ab8">CAssignExprTreeNode</a>, <a class="el" href="class_c_boolean_expr_tree_node.html#65e5411f745fc59f1701567011cc36ac">CBooleanExprTreeNode</a>, <a class="el" href="class_c_call_expr_tree_node.html#ab4049a1e63fc4d2ee7ee5cb87a3b214">CCallExprTreeNode</a>, <a class="el" href="class_c_function_decl_tree_node.html#35b53f90cc35f5a44d7e5ef00758f58a">CFunctionDeclTreeNode</a>, <a class="el" href="class_c_identifier_tree_node.html#6ea27ab9f826a19ed86534f1b0924412">CIdentifierTreeNode</a>, <a class="el" href="class_c_if_stmt_tree_node.html#edb5dc903408d49d4d6a244c78e88b35">CIfStmtTreeNode</a>, <a class="el" href="class_c_literal_tree_node.html#f6bd88609406b62ef21dafea4d1706aa">CLiteralTreeNode</a>, <a class="el" href="class_c_parameter_decl_tree_node.html#8935abad054f2ff754a870b5956d0695">CParameterDeclTreeNode</a>, <a class="el" href="class_c_parameter_list_tree_node.html#1e73d356a9d27c706b2bb31e7e92620d">CParameterListTreeNode</a>, <a class="el" href="class_c_return_stmt_tree_node.html#1e115dd9c5aac0664ea4abfdf1ab82b8">CReturnStmtTreeNode</a>, <a class="el" href="class_c_root_tree_node.html#9a81369c14f19955c2434c009cecc93a">CRootTreeNode</a>, <a class="el" href="class_c_unary_expr_tree_node.html#55a5a181680dbab5cff455972da637a8">CUnaryExprTreeNode</a>, <a class="el" href="class_c_var_decl_tree_node.html#51b37ba1586b9e18c45e489c541d9b3f">CVarDeclTreeNode</a>, <a class="el" href="class_c_while_stmt_tree_node.html#0313271b750f12e33d217f8b15e4f2d4">CWhileStmtTreeNode</a>, <a class="el" href="class_c_goto_expr_tree_node.html#e46c816947998b80b417c61e123d4b4a">CGotoExprTreeNode</a>, <a class="el" href="class_c_label_tree_node.html#cadd20ccd721f3b1ef9a8b25f5698609">CLabelTreeNode</a>, and <a class="el" href="class_c_literal_ref_tree_node.html#440bbe54026af32ae3b957df09f704ec">CLiteralRefTreeNode</a>.
</div>
</div><p>
<a class="anchor" name="1cfab5b40030b686aec2a908cf9969c5"></a><!-- doxytag: member="CTreeNode::ReplaceArrayRefs" ref="1cfab5b40030b686aec2a908cf9969c5" args="(CTreeNode *Node, CTreeNode *Stmts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_tree_node.html">CTreeNode</a> * CTreeNode::ReplaceArrayRefs           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td>
          <td class="paramname"> <em>Node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td>
          <td class="paramname"> <em>Stmts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Due to the complexities with accessing an array element in the back-end, we replace all instances of array references with references to a temporarary variable initialised to the array element being access. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Node</em>&nbsp;</td><td>The node to (optionally) replace. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Stmts</em>&nbsp;</td><td>Global MIR tree being built. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="09e8ccfc39339dcbcf6d63136425d1f4"></a><!-- doxytag: member="CTreeNode::ReplaceCallExpr" ref="09e8ccfc39339dcbcf6d63136425d1f4" args="(CTreeNode *Node, CTreeNode *Stmts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_tree_node.html">CTreeNode</a> * CTreeNode::ReplaceCallExpr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td>
          <td class="paramname"> <em>Node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_tree_node.html">CTreeNode</a> *&nbsp;</td>
          <td class="paramname"> <em>Stmts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Replaces any uses of a call expr in the expression by creating a new temporary variable which is initialised to the return value of the function. The input node is then replaced with an identifier node which refers to the newly created variable. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Node</em>&nbsp;</td><td>Expression term to replace if required. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Stmts</em>&nbsp;</td><td>Global MIR tree to add the new statements to. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>If Node is not a call_expr, returns Node. Otherwise returns an identifier node referring to a new temporary variable. </dd></dl>

</div>
</div><p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="041fa2657be4b0e31451dca6f145ae6c"></a><!-- doxytag: member="CTreeNode::Code" ref="041fa2657be4b0e31451dca6f145ae6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_tree_node_8h.html#5d48fb053455b65f98947b713a724bfa">TreeCode</a> <a class="el" href="class_c_tree_node.html#041fa2657be4b0e31451dca6f145ae6c">CTreeNode::Code</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
What type of tree this is. 
</div>
</div><p>
<a class="anchor" name="2a449b7eee7edeeef91a077f73f14c06"></a><!-- doxytag: member="CTreeNode::Children" ref="2a449b7eee7edeeef91a077f73f14c06" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="class_c_tree_node.html">CTreeNode</a>*&gt; <a class="el" href="class_c_tree_node.html#2a449b7eee7edeeef91a077f73f14c06">CTreeNode::Children</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Any child nodes. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_c_tree_node_8h.html">CTreeNode.h</a><li><a class="el" href="_c_tree_node_8cpp.html">CTreeNode.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed May 16 12:56:55 2007 for CP3343 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
